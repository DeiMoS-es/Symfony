services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    # Registro general de tus clases de la aplicación
    App\:
        resource: '../src/*'
        exclude: '../src/{DependencyInjection,Entity,Migrations,Tests}'

    # Controladores y repositorios del módulo Auth
    App\Module\:
        resource: '../src/Module/*'
        exclude: '../src/Module/*/{Entity,Tests}'

    # Hacemos públicos los controladores manualmente (PSR-4 compatible)
    App\Module\Auth\Controller\:
        resource: '../src/Module/Auth/Controller/*'
        public: true

    # Desactiva autowire para los DTOs
    App\Module\Auth\DTO\:
        resource: '../src/Module/Auth/DTO/*'
        autowire: false
        public: false
